{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nconst AutoLogout = () => {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Set up a timer for automatic logout after 15 minutes of inactivity\n    const timeout = setTimeout(() => {\n      localStorage.removeItem('authToken');\n      sessionStorage.removeItem('authToken');\n      navigate('/'); // Redirect to home after logout\n      alert('You have been logged out due to inactivity.');\n    }, 900000); // 15 minutes in milliseconds\n\n    // Listen for any activity (clicks or keypresses) to reset the timer\n    const resetTimer = () => {\n      clearTimeout(timeout);\n      setTimeout(() => {\n        localStorage.removeItem('authToken');\n        sessionStorage.removeItem('authToken');\n        navigate('/');\n        alert('You have been logged out due to inactivity.');\n      }, 900000); // Reset the timer for another 15 minutes\n    };\n    document.addEventListener('click', resetTimer);\n    document.addEventListener('keydown', resetTimer);\n    return () => {\n      clearTimeout(timeout);\n      document.removeEventListener('click', resetTimer);\n      document.removeEventListener('keydown', resetTimer);\n    };\n  }, [navigate]);\n  return null; // This component doesn't render anything, it just listens for activity\n};\n_s(AutoLogout, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = AutoLogout;\nexport default AutoLogout;\nvar _c;\n$RefreshReg$(_c, \"AutoLogout\");","map":{"version":3,"names":["React","useEffect","useNavigate","AutoLogout","_s","navigate","timeout","setTimeout","localStorage","removeItem","sessionStorage","alert","resetTimer","clearTimeout","document","addEventListener","removeEventListener","_c","$RefreshReg$"],"sources":["E:/project/pet-platform/pet/src/Logout.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst AutoLogout = () => {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Set up a timer for automatic logout after 15 minutes of inactivity\r\n    const timeout = setTimeout(() => {\r\n      localStorage.removeItem('authToken');\r\n      sessionStorage.removeItem('authToken');\r\n      navigate('/'); // Redirect to home after logout\r\n      alert('You have been logged out due to inactivity.');\r\n    }, 900000); // 15 minutes in milliseconds\r\n\r\n    // Listen for any activity (clicks or keypresses) to reset the timer\r\n    const resetTimer = () => {\r\n      clearTimeout(timeout);\r\n      setTimeout(() => {\r\n        localStorage.removeItem('authToken');\r\n        sessionStorage.removeItem('authToken');\r\n        navigate('/');\r\n        alert('You have been logged out due to inactivity.');\r\n      }, 900000); // Reset the timer for another 15 minutes\r\n    };\r\n\r\n    document.addEventListener('click', resetTimer);\r\n    document.addEventListener('keydown', resetTimer);\r\n\r\n    return () => {\r\n      clearTimeout(timeout);\r\n      document.removeEventListener('click', resetTimer);\r\n      document.removeEventListener('keydown', resetTimer);\r\n    };\r\n  }, [navigate]);\r\n\r\n  return null; // This component doesn't render anything, it just listens for activity\r\n};\r\n\r\nexport default AutoLogout;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAMC,QAAQ,GAAGH,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd;IACA,MAAMK,OAAO,GAAGC,UAAU,CAAC,MAAM;MAC/BC,YAAY,CAACC,UAAU,CAAC,WAAW,CAAC;MACpCC,cAAc,CAACD,UAAU,CAAC,WAAW,CAAC;MACtCJ,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;MACfM,KAAK,CAAC,6CAA6C,CAAC;IACtD,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;;IAEZ;IACA,MAAMC,UAAU,GAAGA,CAAA,KAAM;MACvBC,YAAY,CAACP,OAAO,CAAC;MACrBC,UAAU,CAAC,MAAM;QACfC,YAAY,CAACC,UAAU,CAAC,WAAW,CAAC;QACpCC,cAAc,CAACD,UAAU,CAAC,WAAW,CAAC;QACtCJ,QAAQ,CAAC,GAAG,CAAC;QACbM,KAAK,CAAC,6CAA6C,CAAC;MACtD,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;IACd,CAAC;IAEDG,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEH,UAAU,CAAC;IAC9CE,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEH,UAAU,CAAC;IAEhD,OAAO,MAAM;MACXC,YAAY,CAACP,OAAO,CAAC;MACrBQ,QAAQ,CAACE,mBAAmB,CAAC,OAAO,EAAEJ,UAAU,CAAC;MACjDE,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAEJ,UAAU,CAAC;IACrD,CAAC;EACH,CAAC,EAAE,CAACP,QAAQ,CAAC,CAAC;EAEd,OAAO,IAAI,CAAC,CAAC;AACf,CAAC;AAACD,EAAA,CAlCID,UAAU;EAAA,QACGD,WAAW;AAAA;AAAAe,EAAA,GADxBd,UAAU;AAoChB,eAAeA,UAAU;AAAC,IAAAc,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}